# CIS Smart CLI

ğŸš€ æ™ºèƒ½ CLI - è§£å†³ CIS å‘½ä»¤ç¢ç‰‡åŒ–å’Œé…ç½®å¤æ‚æ€§é—®é¢˜

## å¿«é€Ÿå¼€å§‹

```bash
# 1. æŸ¥çœ‹å¸®åŠ©
cis --help

# 2. ä¸€é”®åˆå§‹åŒ– CIS
cis setup --auto --role worker

# 3. åŠ å…¥ç½‘ç»œï¼ˆè‡ªåŠ¨å‘ç°ï¼‰
cis join

# 4. æŸ¥çœ‹çŠ¶æ€
cis status

# 5. è‡ªç„¶è¯­è¨€å‘½ä»¤
cis do "åˆå§‹åŒ– CIS"
```

## å‘½ä»¤åˆ—è¡¨

### `cis setup` - åˆå§‹åŒ–èŠ‚ç‚¹

ä¸€é”®åˆå§‹åŒ– CISï¼Œæ›¿ä»£å¤æ‚çš„ `cis init` + æ‰‹åŠ¨ç¼–è¾‘é…ç½®ã€‚

```bash
# å…¨è‡ªåŠ¨æ¨¡å¼ï¼ˆé€‚åˆ Agentï¼‰
cis setup --auto --role coordinator

# äº¤äº’å¼æ¨¡å¼ï¼ˆé€‚åˆæ–°æ‰‹ï¼‰
cis setup
# ? é€‰æ‹©èŠ‚ç‚¹è§’è‰²: Coordinator / Worker / Edge
```

**é€‰é¡¹ï¼š**
- `--auto`: å…¨è‡ªåŠ¨æ¨¡å¼ï¼Œæ— äº¤äº’
- `--role <ROLE>`: èŠ‚ç‚¹è§’è‰² (coordinator/worker/edge)

### `cis join` - åŠ å…¥ç½‘ç»œ

ä¸€é”®åŠ å…¥æˆ–åˆ›å»ºç½‘ç»œï¼Œæ›¿ä»£ `cis pair` + `cis neighbor`ã€‚

```bash
# è‡ªåŠ¨å‘ç°ç½‘ç»œ
cis join

# æŒ‡å®šåœ°å€åŠ å…¥
cis join --address 192.168.1.100

# ä½¿ç”¨é…å¯¹ç 
cis join --code 123456

# ç»„åˆä½¿ç”¨
cis join --address 192.168.1.100 --code 123456
```

**é€‰é¡¹ï¼š**
- `-a, --address <ADDRESS>`: ç›®æ ‡åœ°å€
- `-c, --code <CODE>`: é…å¯¹ç 

### `cis status` - æŸ¥çœ‹çŠ¶æ€

ç»Ÿä¸€çš„çŠ¶æ€é¢æ¿ï¼Œæ›¿ä»£å¤šä¸ªåˆ†æ•£çš„ status å‘½ä»¤ã€‚

```bash
# åŸºæœ¬çŠ¶æ€
cis status

# åŒ…å«ç½‘ç»œè¯¦æƒ…
cis status --network

# åŒ…å«æ€§èƒ½æŒ‡æ ‡
cis status --perf

# å®Œæ•´ä¿¡æ¯
cis status --network --perf
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    CIS Unified Status Panel                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ Node Information
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   ID:       a1b2c3d4
   Name:     my-host
   DID:      did:cis:my-host:a1b2c3d4
   Role:     worker

ğŸŒ Network Status
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   Status:    âœ… Running
   Peers:     3 connected
   Discovered: 2 nodes

   Connected Peers:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ID       â”‚ Address       â”‚ Trust    â”‚ Status   â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ coord-01 â”‚ 192.168.1.100 â”‚ High     â”‚ Online   â”‚
   â”‚ worker-01â”‚ 192.168.1.101 â”‚ Medium   â”‚ Online   â”‚
   â”‚ worker-02â”‚ 192.168.1.102 â”‚ Medium   â”‚ Online   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’» System Resources
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   CPU Usage:    23%
   Memory:       45%
```

**é€‰é¡¹ï¼š**
- `--network`: æ˜¾ç¤ºè¯¦ç»†ç½‘ç»œä¿¡æ¯
- `--perf`: æ˜¾ç¤ºæ€§èƒ½æŒ‡æ ‡

### `cis do` - è‡ªç„¶è¯­è¨€å‘½ä»¤

ä½¿ç”¨è‡ªç„¶è¯­è¨€æ‰§è¡Œæ“ä½œï¼ŒAI Agent å‹å¥½ã€‚

```bash
# åˆå§‹åŒ–ç›¸å…³
cis do "åˆå§‹åŒ– CIS"
cis do "setup as coordinator"
cis do "å®‰è£… CIS ä½œä¸ºå·¥ä½œèŠ‚ç‚¹"

# ç½‘ç»œç›¸å…³
cis do "è¿æ¥ç½‘ç»œ"
cis do "join the network"
cis do "ç»„ç½‘"

# çŠ¶æ€ç›¸å…³
cis do "æŸ¥çœ‹çŠ¶æ€"
cis do "show me the current status"
cis do "æ˜¾ç¤ºå½“å‰çŠ¶æ€"
```

**æ”¯æŒçš„æ„å›¾ï¼š**
- åˆå§‹åŒ–/å®‰è£…/setup/init â†’ æ‰§è¡Œ `setup`
- è¿æ¥/åŠ å…¥/join/ç»„ç½‘/network â†’ æ‰§è¡Œ `join`
- çŠ¶æ€/status/æŸ¥çœ‹/show â†’ æ‰§è¡Œ `status`

## AI Agent é›†æˆ

æ™ºèƒ½ CLI ä¸“ä¸º AI Agent è®¾è®¡ï¼Œæä¾›ï¼š

1. **ç®€æ´å‘½ä»¤**: `cis setup`, `cis join`, `cis do`
2. **ç»“æ„åŒ–è¾“å‡º**: æ”¯æŒ `--json` å‚æ•°
3. **è‡ªç„¶è¯­è¨€**: Agent å¯ä»¥ç›´æ¥ä½¿ç”¨äººç±»è¯­è¨€
4. **æ™ºèƒ½é»˜è®¤**: åˆç†çš„é»˜è®¤å€¼ï¼Œå‡å°‘å†³ç­–è´Ÿæ‹…

### Agent ä½¿ç”¨ç¤ºä¾‹

```bash
# åˆå§‹åŒ–èŠ‚ç‚¹
cis setup --auto --role worker --json

# åŠ å…¥ç½‘ç»œ
cis join --json

# è·å–çŠ¶æ€
cis status --json

# è‡ªç„¶è¯­è¨€ï¼ˆAgent å¯ä»¥æ„é€ ï¼‰
cis do "initialize CIS and join the network" --json
```

## æ¶æ„

```
cis-node/src/commands/unified/
â”œâ”€â”€ mod.rs      # å‘½ä»¤è·¯ç”±å’Œè‡ªç„¶è¯­è¨€è§£æ
â”œâ”€â”€ setup.rs    # åˆå§‹åŒ–é€»è¾‘
â”œâ”€â”€ join.rs     # ç½‘ç»œåŠ å…¥é€»è¾‘  
â”œâ”€â”€ status.rs   # çŠ¶æ€æ”¶é›†å’Œå±•ç¤º
â””â”€â”€ README.md   # æœ¬æ–‡æ¡£
```

### ä¸»å…¥å£é›†æˆ

åœ¨ `main.rs` ä¸­ä½œä¸ºé¡¶å±‚å‘½ä»¤ï¼š

```rust
enum Commands {
    // ... å…¶ä»–å‘½ä»¤
    
    /// ğŸš€ Quick setup CIS
    Setup { ... },
    
    /// ğŸš€ Quick join network
    Join { ... },
    
    /// ğŸš€ Execute natural language command
    #[command(name = "do")]
    Do { ... },
}
```

## ä¸æ—§å‘½ä»¤çš„å¯¹æ¯”

| æ—§å‘½ä»¤ | æ–°å‘½ä»¤ | ä¼˜åŠ¿ |
|--------|--------|------|
| `cis init && vim ~/.cis/config.toml` | `cis setup` | æ— éœ€æ‰‹åŠ¨ç¼–è¾‘ |
| `cis pair generate` + `cis pair join` | `cis join` | å•ä¸€å‘½ä»¤ |
| `cis status && cis node status && cis neighbor list` | `cis status` | ç»Ÿä¸€è§†å›¾ |
| å¤šä¸ªåˆ†æ•£å‘½ä»¤ | `cis do "è‡ªç„¶è¯­è¨€"` | AI å‹å¥½ |

## å‘åå…¼å®¹

åŸæœ‰çš„ `cis unified` å‘½ä»¤ä»ç„¶å¯ç”¨ï¼Œä½œä¸ºæ–°å‘½ä»¤çš„åˆ«åï¼š

```bash
# è¿™ä¸¤ç§æ–¹å¼ç­‰ä»·
cis setup --auto
cis unified setup --auto

cis join --code 123456
cis unified join --code 123456
```

## åç»­è§„åˆ’

- [ ] `cis config` - åµŒå…¥å¼é…ç½®ç®¡ç†ï¼ˆæ— éœ€ç¼–è¾‘ TOMLï¼‰
- [ ] `cis doctor` - æ™ºèƒ½è¯Šæ–­å’Œè‡ªåŠ¨ä¿®å¤
- [ ] `cis wizard` - å¼•å¯¼å¼é¦–æ¬¡è®¾ç½®
