# CIS Docker ç»„ç½‘æµ‹è¯• - æœ€ç»ˆæŠ¥å‘Š

## æµ‹è¯•æ—¶é—´
2026-02-09

## æ„å»ºçŠ¶æ€
âœ… **Docker é•œåƒæ„å»ºæˆåŠŸ**
- é•œåƒåç§°: cis-real:latest / cis-runtime:latest
- é•œåƒå¤§å°: 170MB
- åŸºäº: rustlang/rust:nightly-slim + debian:trixie-slim

## æµ‹è¯•ç¯å¢ƒ
- 3èŠ‚ç‚¹ Docker ç½‘ç»œ (172.30.0.0/16)
- å®Œå…¨éš”ç¦»çš„å†…éƒ¨ç½‘ç»œ
- ä½¿ç”¨çœŸå® CIS Linux äºŒè¿›åˆ¶

## æµ‹è¯•é¡¹ç›®

### âœ… å·²é€šè¿‡
1. **Docker é•œåƒæ„å»º** - æˆåŠŸç¼–è¯‘ Linux ç‰ˆæœ¬
2. **å®¹å™¨å¯åŠ¨** - 3ä¸ªèŠ‚ç‚¹æ­£å¸¸è¿è¡Œ
3. **ç½‘ç»œè¿é€š** - ping æµ‹è¯•é€šè¿‡ (0.064ms)
4. **CIS åˆå§‹åŒ–** - é…ç½®åˆ›å»ºæˆåŠŸ
5. **Pair ç ç”Ÿæˆ** - æˆåŠŸç”Ÿæˆ 6ä½æ•°å­—ç  (662371)

### âš ï¸ éƒ¨åˆ†é€šè¿‡
6. **Pair è¿æ¥** - å‘½ä»¤æ‰§è¡Œä½†è¿æ¥è¶…æ—¶
   - node1: ç›‘å¬ UDP 6768
   - node2: å‘é€ join è¯·æ±‚
   - ç»“æœ: æ— å“åº”ï¼Œå¯èƒ½åŸå› :
     - Docker ç½‘ç»œ UDP å¹¿æ’­å—é™
     - éœ€è¦æŒ‡å®šç¡®åˆ‡çš„å®¹å™¨ IP
     - pair æœåŠ¡å®ç°é—®é¢˜

## å…³é”®å‘ç°

### ç»„ç½‘ç ç”Ÿæˆ âœ…
```bash
docker exec cis-node1 cis-node pair generate
# è¾“å‡º:
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           ğŸ”¢ ç»„ç½‘é…å¯¹ç                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘       662371                             â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  â±ï¸  æœ‰æ•ˆæœŸ: 5åˆ†é’Ÿ                        â•‘
â•‘  ğŸ“Œ èŠ‚ç‚¹: cis-node1                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### ç»„ç½‘è¿æ¥ âš ï¸
```bash
docker exec cis-node2 cis-node pair join 662371 --address 172.30.1.11:6768
# ç»“æœ: å‘½ä»¤æ‰§è¡Œä½†è¶…æ—¶æ— å“åº”
```

## ç»“è®º

**ç»„ç½‘æµç¨‹è®¾è®¡æ­£ç¡®**ï¼Œæ ¸å¿ƒåŠŸèƒ½å·²å®ç°ï¼š
- âœ… 6ä½æ•°å­—é…å¯¹ç ç”Ÿæˆ
- âœ… è·¨å®¹å™¨å‘½ä»¤æ‰§è¡Œ
- âš ï¸ ç½‘ç»œå±‚è¿æ¥éœ€è¿›ä¸€æ­¥è°ƒè¯•

**å»ºè®®ä¸‹ä¸€æ­¥**:
1. æ£€æŸ¥ pair æœåŠ¡çš„ UDP å®ç°
2. ä½¿ç”¨ TCP æ›¿ä»£ UDP è¿›è¡Œå¯é è¿æ¥
3. æ·»åŠ è¯¦ç»†æ—¥å¿—æ’æŸ¥ç½‘ç»œé—®é¢˜

## æ–‡ä»¶æ¸…å•

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| Dockerfile.nightly | æ„å»ºé…ç½®ï¼ˆå·²ä¿®å¤ GLIBCï¼‰ |
| docker-compose.real.yml | è¿è¡Œæ—¶é…ç½® |
| test-real-pair.sh | ç»„ç½‘æµ‹è¯•è„šæœ¬ |
| cis-real:latest | æ„å»ºæˆåŠŸçš„é•œåƒ |
