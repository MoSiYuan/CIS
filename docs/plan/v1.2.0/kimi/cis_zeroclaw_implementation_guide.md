# CIS ä½œä¸º ZeroClaw æ’ä»¶ - å®ç”¨å®æ–½æŒ‡å—

## ğŸ“‹ æ ¸å¿ƒå…±è¯†

> "ZeroClaw è§£å†³ IMã€Agentã€Skillï¼ŒCIS ä¸“æ³¨äºå·¥å…·ç³»ç»Ÿ" â€”â€” éå¸¸åŠ¡å®çš„å†³ç­–

---

## 1. èƒ½åŠ›è¾¹ç•Œåˆ’åˆ†

### 1.1 ZeroClaw è´Ÿè´£ï¼ˆä¸å¤åˆ»ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ZeroClaw è´Ÿè´£é¢†åŸŸ                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  âœ… Agent æ ¸å¿ƒ                                               â”‚
â”‚     â”œâ”€â”€ AgentBuilder (æ„å»ºã€é…ç½®)                            â”‚
â”‚     â”œâ”€â”€ Agent Loop (æ¨ç†å¾ªç¯)                                â”‚
â”‚     â””â”€â”€ Session ç®¡ç†                                         â”‚
â”‚                                                             â”‚
â”‚  âœ… é€šé“ç³»ç»Ÿ (13+)                                           â”‚
â”‚     â”œâ”€â”€ Telegram / Discord / Slack                          â”‚
â”‚     â”œâ”€â”€ Matrix / Signal / WhatsApp                          â”‚
â”‚     â”œâ”€â”€ Email / Webhook / CLI                               â”‚
â”‚     â””â”€â”€ Lark / DingTalk / QQ                                â”‚
â”‚                                                             â”‚
â”‚  âœ… AI æä¾›å•† (22+)                                          â”‚
â”‚     â”œâ”€â”€ OpenAI / Anthropic / Gemini                         â”‚
â”‚     â”œâ”€â”€ Groq / Mistral / xAI / DeepSeek                     â”‚
â”‚     â”œâ”€â”€ æ™ºè°± GLM / Moonshot / MiniMax                       â”‚
â”‚     â””â”€â”€ Ollama / Llama.cpp (æœ¬åœ°)                           â”‚
â”‚                                                             â”‚
â”‚  âœ… Skill ç³»ç»Ÿ                                               â”‚
â”‚     â”œâ”€â”€ SkillForge (å‘ç°ã€è¯„ä¼°ã€é›†æˆ)                        â”‚
â”‚     â”œâ”€â”€ SKILL.toml / SKILL.md æ ¼å¼                          â”‚
â”‚     â””â”€â”€ open-skills ç¤¾åŒºç”Ÿæ€                                 â”‚
â”‚                                                             â”‚
â”‚  âœ… åŸºç¡€å·¥å…· (20+)                                           â”‚
â”‚     â”œâ”€â”€ shell / file_read / file_write                      â”‚
â”‚     â”œâ”€â”€ memory_store / memory_recall                        â”‚
â”‚     â”œâ”€â”€ browser / web_search / http_request                 â”‚
â”‚     â””â”€â”€ cron / git / hardware                               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 CIS è´Ÿè´£ï¼ˆæ ¸å¿ƒå·®å¼‚åŒ–ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CIS è´Ÿè´£é¢†åŸŸ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  âœ… è®°å¿†ç³»ç»Ÿï¼ˆæ›¿æ¢ ZeroClaw Memoryï¼‰                         â”‚
â”‚     â”œâ”€â”€ sqlite-vec å‘é‡ç´¢å¼•ï¼ˆO(log N)ï¼‰                      â”‚
â”‚     â”œâ”€â”€ ç§åŸŸ/å…¬åŸŸåˆ†ç¦»                                        â”‚
â”‚     â”œâ”€â”€ 54å‘¨å½’æ¡£ + ç²¾å‡†ç´¢å¼•                                  â”‚
â”‚     â””â”€â”€ å¯é€‰ï¼šæ··åˆæœç´¢ï¼ˆå‘é‡ + FTS5ï¼‰                        â”‚
â”‚                                                             â”‚
â”‚  âœ… ç½‘ç»œç³»ç»Ÿï¼ˆæ›¿æ¢/æ‰©å±• ZeroClaw Channelï¼‰                   â”‚
â”‚     â”œâ”€â”€ P2P/QUIC èŠ‚ç‚¹é€šä¿¡ï¼ˆ0 Tokenï¼‰                         â”‚
â”‚     â”œâ”€â”€ DID èº«ä»½ + ç¡¬ä»¶ç»‘å®š                                  â”‚
â”‚     â””â”€â”€ Matrix Room è”é‚¦                                     â”‚
â”‚                                                             â”‚
â”‚  âœ… å®‰å…¨ç³»ç»Ÿï¼ˆæ›¿æ¢ ZeroClaw Securityï¼‰                       â”‚
â”‚     â”œâ”€â”€ DID èº«ä»½ç³»ç»Ÿ                                         â”‚
â”‚     â”œâ”€â”€ ChaCha20-Poly1305 + Argon2id                         â”‚
â”‚     â””â”€â”€ ACL ç™½åå•                                           â”‚
â”‚                                                             â”‚
â”‚  âœ… åŒæ­¥ç³»ç»Ÿï¼ˆæ–°å¢ï¼‰                                         â”‚
â”‚     â”œâ”€â”€ å…¬åŸŸè®°å¿† P2P åŒæ­¥                                    â”‚
â”‚     â”œâ”€â”€ CRDT å†²çªè§£å†³                                        â”‚
â”‚     â””â”€â”€ Merkle DAG ç‰ˆæœ¬æ§åˆ¶                                  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. æ’ä»¶æ¥å£è®¾è®¡

### 2.1 Memory Backend æ¥å£

```rust
// zeroclaw-cis-memory/src/lib.rs

use async_trait::async_trait;
use zeroclaw::memory::{Memory, MemoryEntry, MemoryCategory};
use cis_core::memory::{MemoryService, MemoryDomain, MemoryCategory as CisCategory};

pub struct CisMemoryBackend {
    service: MemoryService,
    node_id: String,
}

impl CisMemoryBackend {
    pub async fn open(node_id: &str, data_dir: &Path) -> Result<Self> {
        let service = MemoryService::open(node_id, data_dir).await?;
        Ok(Self {
            service,
            node_id: node_id.to_string(),
        })
    }
}

#[async_trait]
impl Memory for CisMemoryBackend {
    fn name(&self) -> &str {
        "cis-memory"
    }

    async fn store(
        &self,
        key: &str,
        content: &str,
        category: MemoryCategory,
        session_id: Option<&str>,
    ) -> anyhow::Result<()> {
        // æ˜ å°„ ZeroClaw category åˆ° CIS domain
        let domain = match category {
            MemoryCategory::Core | MemoryCategory::Private => MemoryDomain::Private,
            _ => MemoryDomain::Public,
        };

        let cis_category = map_category(category);

        self.service.set(key, content.as_bytes(), domain, cis_category).await
            .map_err(|e| anyhow::anyhow!("CIS store failed: {}", e))
    }

    async fn recall(
        &self,
        query: &str,
        limit: usize,
        session_id: Option<&str>,
    ) -> anyhow::Result<Vec<MemoryEntry>> {
        // ä½¿ç”¨ CIS è¯­ä¹‰æœç´¢
        let results = self.service.semantic_search(query, limit, 0.6).await
            .map_err(|e| anyhow::anyhow!("CIS search failed: {}", e))?;

        Ok(results.into_iter().map(|r| r.into()).collect())
    }

    async fn get(&self, key: &str) -> anyhow::Result<Option<MemoryEntry>> {
        // CIS get å®ç°
        todo!()
    }

    async fn forget(&self, key: &str) -> anyhow::Result<bool> {
        // CIS delete å®ç°
        todo!()
    }

    async fn health_check(&self) -> bool {
        self.service.health_check().await
    }
}
```

### 2.2 Network Backend æ¥å£

```rust
// zeroclaw-cis-network/src/lib.rs

use async_trait::async_trait;
use zeroclaw::channels::{Channel, ChannelMessage, SendMessage};
use cis_core::network::{NetworkManager, DidIdentity};

/// CIS P2P ç½‘ç»œä½œä¸º ZeroClaw Channel
pub struct CisP2PChannel {
    network: NetworkManager,
    identity: DidIdentity,
}

impl CisP2PChannel {
    pub async fn new(node_id: &str) -> Result<Self> {
        let identity = DidIdentity::generate_or_load(node_id).await?;
        let network = NetworkManager::new(identity.did().to_string()).await?;
        Ok(Self { network, identity })
    }
}

#[async_trait]
impl Channel for CisP2PChannel {
    fn name(&self) -> &str {
        "cis-p2p"
    }

    async fn send(&self, message: &SendMessage) -> anyhow::Result<()> {
        // å‘é€åˆ° P2P ç½‘ç»œ
        let payload = serde_json::json!({
            "type": "message",
            "content": message.content,
            "recipient": message.recipient,
        });

        self.network.broadcast(payload.to_string().as_bytes()).await
            .map_err(|e| anyhow::anyhow!("P2P send failed: {}", e))
    }

    async fn listen(&self, tx: tokio::sync::mpsc::Sender<ChannelMessage>) -> anyhow::Result<()> {
        // ç›‘å¬ P2P æ¶ˆæ¯å¹¶è½¬æ¢ä¸º ChannelMessage
        todo!()
    }

    async fn health_check(&self) -> bool {
        self.network.health_check().await
    }
}
```

---

## 3. é…ç½®ç¤ºä¾‹

### 3.1 ZeroClaw é…ç½®ï¼ˆä½¿ç”¨ CIS æ’ä»¶ï¼‰

```toml
# ~/.zeroclaw/config.toml

[agent]
name = "my-agent"
provider = "anthropic"
model = "claude-3-5-sonnet"

# ä½¿ç”¨ CIS Memory Backend
[memory]
backend = "cis"

[memory.cis]
node_id = "my-workstation"
data_dir = "~/.cis/data"
vector_dimensions = 384

# ä½¿ç”¨ CIS P2P Network Backend
[network]
backend = "cis-p2p"

[network.cis]
listen_addr = "0.0.0.0:0"  # è‡ªåŠ¨é€‰æ‹©ç«¯å£
bootstrap_nodes = [
    "did:cis:AbCdEf...",
]

# ä½¿ç”¨ CIS Security Backend
[security]
backend = "cis"

[security.cis]
did_method = "cis"
key_type = "ed25519"
```

### 3.2 å¯åŠ¨å‘½ä»¤

```bash
# ä½¿ç”¨ CIS åç«¯çš„ ZeroClaw
zeroclaw channel start telegram     --memory-backend cis     --network-backend cis-p2p     --security-backend cis
```

---

## 4. å¼€å‘è®¡åˆ’

### 4.1 Phase 1: Memory Backendï¼ˆ1-2 å‘¨ï¼‰

```
Week 1:
â”œâ”€â”€ Day 1-2: å®šä¹‰ zeroclaw::memory::Memory trait æ‰©å±•
â”œâ”€â”€ Day 3-4: å®ç° CisMemoryBackend
â””â”€â”€ Day 5: é›†æˆæµ‹è¯•

Week 2:
â”œâ”€â”€ Day 1-2: æ€§èƒ½åŸºå‡†æµ‹è¯•ï¼ˆå¯¹æ¯” ZeroClaw åŸç”Ÿï¼‰
â”œâ”€â”€ Day 3-4: æ··åˆæœç´¢å®ç°ï¼ˆå‘é‡ + FTS5ï¼‰
â””â”€â”€ Day 5: æ–‡æ¡£å’Œç¤ºä¾‹
```

### 4.2 Phase 2: Network Backendï¼ˆ2-3 å‘¨ï¼‰

```
Week 3-4:
â”œâ”€â”€ å®ç° CisP2PChannel
â”œâ”€â”€ DID èº«ä»½é›†æˆ
â”œâ”€â”€ P2P æ¶ˆæ¯è·¯ç”±
â””â”€â”€ ä¸ ZeroClaw Channel ç³»ç»Ÿé›†æˆ

Week 5:
â”œâ”€â”€ Matrix Room è”é‚¦
â”œâ”€â”€ è·¨èŠ‚ç‚¹è®°å¿†åŒæ­¥
â””â”€â”€ æµ‹è¯•å’Œæ–‡æ¡£
```

### 4.3 Phase 3: ä¼˜åŒ–ï¼ˆ1-2 å‘¨ï¼‰

```
Week 6-7:
â”œâ”€â”€ æ€§èƒ½ä¼˜åŒ–
â”œâ”€â”€ é”™è¯¯å¤„ç†å®Œå–„
â”œâ”€â”€ é…ç½®çƒ­åŠ è½½
â””â”€â”€ å‘å¸ƒåˆ° crates.io
```

---

## 5. ä»£ç å¤ç”¨æ¸…å•

### 5.1 CIS ä»£ç å¤ç”¨

| æ¨¡å— | å¤ç”¨ç¨‹åº¦ | è¯´æ˜ |
|------|---------|------|
| `cis-core/src/memory/` | 90% | ç›´æ¥å¤ç”¨ï¼ŒåŒ…è£…ä¸º trait |
| `cis-core/src/vector/` | 100% | sqlite-vec ç›´æ¥å¤ç”¨ |
| `cis-core/src/network/` | 80% | é€‚é… Channel trait |
| `cis-core/src/security/` | 90% | DID + åŠ å¯†ç›´æ¥å¤ç”¨ |
| `cis-core/src/sync/` | 100% | è”é‚¦åŒæ­¥ç›´æ¥å¤ç”¨ |

### 5.2 ZeroClaw ä»£ç å¤ç”¨

| æ¨¡å— | å¤ç”¨ç¨‹åº¦ | è¯´æ˜ |
|------|---------|------|
| `zeroclaw/src/agent/` | 100% | ç›´æ¥ä½¿ç”¨ |
| `zeroclaw/src/channels/` | 100% | ç›´æ¥ä½¿ç”¨ |
| `zeroclaw/src/providers/` | 100% | ç›´æ¥ä½¿ç”¨ |
| `zeroclaw/src/skills/` | 100% | ç›´æ¥ä½¿ç”¨ |
| `zeroclaw/src/tools/` | 80% | åŸºç¡€å·¥å…·ç›´æ¥ä½¿ç”¨ |

---

## 6. é¢„æœŸæˆæœ

### 6.1 ä»£ç é‡å‡å°‘

| é¡¹ç›® | å½“å‰ CIS | æ•´åˆå | å‡å°‘ |
|------|---------|--------|------|
| æ€»ä»£ç è¡Œæ•° | ~166,000 | ~50,000 | -70% |
| æ ¸å¿ƒæ¨¡å— | 15+ | 3 (memory/network/security) | -80% |
| ç»´æŠ¤è´Ÿæ‹… | é«˜ | ä½ | -70% |

### 6.2 åŠŸèƒ½å¢å¼º

| åŠŸèƒ½ | CIS ç‹¬ç«‹ | æ•´åˆå |
|------|---------|--------|
| AI æä¾›å•† | éœ€è‡ªå»º | 22+ (ZeroClaw) |
| é€šä¿¡é€šé“ | éœ€è‡ªå»º | 13+ (ZeroClaw) |
| Skill ç”Ÿæ€ | éœ€è‡ªå»º | 3000+ (OpenClaw) |
| å·¥å…·ç³»ç»Ÿ | éƒ¨åˆ† | 20+ (ZeroClaw) |
| Agent å¾ªç¯ | éœ€è‡ªå»º | æˆç†Ÿ (ZeroClaw) |

---

## 7. å¿«é€Ÿå¼€å§‹æ¨¡æ¿

### 7.1 é¡¹ç›®ç»“æ„

```
zeroclaw-cis/
â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ lib.rs           # å…¬å…±æ¥å£
â”‚   â”œâ”€â”€ memory/
â”‚   â”‚   â”œâ”€â”€ mod.rs       # Memory Backend
â”‚   â”‚   â””â”€â”€ hybrid.rs    # æ··åˆæœç´¢
â”‚   â”œâ”€â”€ network/
â”‚   â”‚   â”œâ”€â”€ mod.rs       # P2P Channel
â”‚   â”‚   â””â”€â”€ sync.rs      # è”é‚¦åŒæ­¥
â”‚   â””â”€â”€ security/
â”‚       â””â”€â”€ mod.rs       # DID Security
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ basic.rs         # åŸºç¡€ä½¿ç”¨
â”‚   â””â”€â”€ distributed.rs   # åˆ†å¸ƒå¼ç¤ºä¾‹
â””â”€â”€ tests/
    â””â”€â”€ integration.rs   # é›†æˆæµ‹è¯•
```

### 7.2 Cargo.toml

```toml
[package]
name = "zeroclaw-cis"
version = "0.1.0"
edition = "2021"

[dependencies]
# ZeroClaw
coderlaw = { git = "https://github.com/zeroclaw-labs/zeroclaw" }

# CIS Core
cis-core = { path = "../cis/cis-core" }

# Async
async-trait = "0.1"
tokio = { version = "1", features = ["full"] }

# Error handling
anyhow = "1"
thiserror = "1"

# Serialization
serde = { version = "1", features = ["derive"] }
serde_json = "1"
```

---

## 8. æ€»ç»“

### æ ¸å¿ƒæ”¶ç›Š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•´åˆæ”¶ç›Šæ€»ç»“                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  âœ… å‡å°‘ 70% é‡å¤ä»£ç                                         â”‚
â”‚     â€¢ ä¸å¤åˆ» IMã€Agentã€Skillã€Providersã€Channels          â”‚
â”‚     â€¢ ä¸“æ³¨ CIS æ ¸å¿ƒå·®å¼‚åŒ–                                    â”‚
â”‚                                                             â”‚
â”‚  âœ… è·å¾— ZeroClaw å®Œæ•´ç”Ÿæ€                                   â”‚
â”‚     â€¢ 22+ AI æä¾›å•†                                          â”‚
â”‚     â€¢ 13+ é€šä¿¡é€šé“                                           â”‚
â”‚     â€¢ 3000+ Skill ç”Ÿæ€                                       â”‚
â”‚                                                             â”‚
â”‚  âœ… ä¿ç•™ CIS æ ¸å¿ƒèƒ½åŠ›                                        â”‚
â”‚     â€¢ P2P è”é‚¦ç½‘ç»œ                                           â”‚
â”‚     â€¢ DID èº«ä»½å®‰å…¨                                           â”‚
â”‚     â€¢ ç§åŸŸ/å…¬åŸŸè®°å¿†åˆ†ç¦»                                      â”‚
â”‚                                                             â”‚
â”‚  âœ… é™ä½é•¿æœŸç»´æŠ¤æˆæœ¬                                         â”‚
â”‚     â€¢ ZeroClaw ç¤¾åŒºç»´æŠ¤æ ¸å¿ƒ                                  â”‚
â”‚     â€¢ æ‚¨åªéœ€ç»´æŠ¤ 3 ä¸ªæ’ä»¶æ¨¡å—                                â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **ä»Šå¤©**ï¼šFork ZeroClawï¼Œåˆ›å»º `zeroclaw-cis` ä»“åº“
2. **æœ¬å‘¨**ï¼šå®ç° `CisMemoryBackend` åŸå‹
3. **ä¸‹å‘¨**ï¼šé›†æˆæµ‹è¯•ï¼ŒéªŒè¯å¯è¡Œæ€§
4. **æŒç»­**ï¼šé€æ­¥å®Œå–„ network å’Œ security æ¨¡å—
